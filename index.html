<!DOCTYPE html><html><head><title>Appointment Reminders</title><style>body, html {
  height:100%;
  width:100%;
  padding:0;
  margin:0;
  overflow:hidden;
  background-color:#ddd;
}
.wrapper {
  height:100%;
  width:100%;
}</style><link rel="shortcut icon" href="//twilio.com/bundles/marketing/img/favicons/favicon.ico"><link rel="apple-touch-icon" href="//twilio.com/bundles/marketing/img/favicons/favicon_57.png"><link rel="apple-touch-icon" sizes="72x72" href="//twilio.com/bundles/marketing/img/favicons/favicon_72.png"><link rel="apple-touch-icon" sizes="114x114" href="//twilio.com/bundles/marketing/img/favicons/favicon_114.png"><link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css"><link rel="stylesheet" href="viewsaurus.css"></head><body><div class="wrapper"><div id="viewsaurus" data-title="Appointment Reminders"><div class="saurus-panes"><div class="saurus-prose"><div class="saurus-prose-header"><div class="title-outer"><span class="step-title">Appointment Reminders</span></div></div><div class="saurus-nav-buttons"><div class="saurus-nav-button nav-overview"><div class="saurus-nav-button-inner"><i class="fa fa-fw fa-list"></i></div><div class="nav-divider"></div></div><div class="saurus-nav-button nav-previous"><div class="saurus-nav-button-inner"><a href=""> <i class="fa fa-fw fa-play fa-rotate-180"></i></a></div><div class="nav-divider"></div></div><div class="saurus-nav-button nav-next clickable"><div class="saurus-nav-button-inner"><a href="#1"> <i class="fa fa-fw fa-play"></i></a></div></div><div class="saurus-next-title"><span class="next-title-inner"></span></div></div><div class="saurus-progress-bar"></div><div class="saurus-start"><p>Learn to implement appointment reminders in your web app with Twilio. Appointment reminders allow you to automate the process of reaching out to your customers in advance of an upcoming appointment.</p><a href="#0">Start Tutorial</a></div><div class="saurus-content"><div data-title="Create an Appointment" class="chapter"><div data-title="Introduction" class="step"><h2 id="how-it-works">How It Works</h2>
<p>Ready to implement appointment reminders in your application? Here&#39;s how it works at a high level:</p>
<ol>
<li>An administrator creates an appointment for a future date and time, and stores a customer&#39;s phone number in the database for that appointment</li>
<li>A background process checks the database on a regular interval, looking for appointments that require a reminder to be sent out</li>
<li>At a configured time in advance of the appointment, an SMS reminder is sent out to the customer to remind them of their appointment</li>
</ol>
<h2 id="building-blocks">Building Blocks</h2>
<p>Here are the technologies we&#39;ll use to get this done:</p>
<ul>
<li><a href="http://www.asp.net/mvc">ASP.NET MVC</a> to create a database-driven web application</li>
<li><a href="/docs/api/rest/sending-sms">The Messages Resource</a> from Twilio&#39;s REST API to send text messages</li>
<li><a href="http://hangfire.io/">Hangfire</a> to help us schedule and execute background tasks on a recurring basis</li>
</ul>
<h2 id="how-to-read-this-tutorial">How To Read This Tutorial</h2>
<p>To implement appointment reminders, we will be working through a series of <a href="http://en.wikipedia.org/wiki/User_story">user stories</a> that describe how to fully implement appointment reminders in a web application. We&#39;ll walk through the code required to satisfy each story, and explore what we needed to add at each step.</p>
<p>Let&#39;s get started! Click the right arrow to move on to the next step of the tutorial.</p>
</div><div data-title="About This Tutorial" class="step"><h2 id="about-this-tutorial">About This Tutorial</h2>
<p>In this tutorial, we will be working through a series of <a href="http://en.wikipedia.org/wiki/User_story">user stories</a> that describe how to fully implement account verification in a web application. Our team implemented this example application in about 12 story points (roughly equivalent to 12 working hours).</p>
<p>Let&#39;s get started with our first user story around creating a new user account.</p>
</div><div data-title="The User Story" class="step"><h2>Creating an Appointment</h2><blockquote>As a user, I want to create an appointment with a name, guest phone numbers, and a time in the future.</blockquote><p>In order to build an automated appointment reminder app, we probably should start with an appointment. This story requires that we create a bit of UI and a model object to create and save a new <code>Appointment</code> in our system. At a high level, here&#39;s what we will need to add:</p>
<ul>
<li>A form to enter details about the appointment</li>
<li>A route and controller function on the server to render the form </li>
<li>A route and controller function on the server to handle the form POST request</li>
<li>A persistent <code>Appointment</code> model object to store information about the user </li>
</ul>
<p>Let&#39;s start by looking at the model, where we decide what information we want to store with the appointment.</p>
</div><div data-title="Appointment Model" data-file="AppointmentReminders.Web/Models/Appointment.cs" class="step"><h2 id="appointment-model">Appointment Model</h2>
<p>The appointment model is pretty simple out of the box, but since humans will be interacting with it let&#39;s make sure we add some data validation.</p>
<p><em>Data Validation</em></p>
<p>Validations are important since we want to make sure only accurate data is
being saved into our database. In this case, we only want to validate that
all of our required fields are present. We can do this by using <code>[Required]</code>
data annotation.</p>
<p>It is likely that our Appointment Model would be created by an admin person
at the site of the appointment. Well it would be great if we could give our
admin user some feedback when they create the appointment. In ASP.NET MVC we
can take advantage of the built-in validation, if there are errores those
will be displayed in the form.</p>
<p>One note: in order to run this demo you would need to run <code>Update-Database</code>
which would run the migrations in our AppointmentReminders.Web/Migrations
folderAppointmentReminders.Web. For this tutorial we&#39;re gonna focus on the
core concepts but if you want to learn more about migrations you can read
the <a href="http://www.asp.net/mvc/overview/getting-started/getting-started-with-ef-using-mvc/migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application">ASP.NET MVC
guide</a>
on the subject.</p>
<p>Now we&#39;re ready to move up to the controller level of the application.</p>
</div><div data-title="New Appointment Form" data-file="AppointmentReminders.Web/Views/Appointments/_Form.cshtml" data-highlight="6-7" data-mode="html" class="step"><h2 id="new-appointment-form">New Appointment Form</h2>
<p>When we create a new appointment, we need a guest name, a phone number and a
time. By using <a href="https://msdn.microsoft.com/en-us/library/system.web.mvc.htmlhelper.aspx">HTML Helper
classes</a>
we can bind the form to the model object. This will generate the necessary
html markup that will create a new Appointment on submit.</p>
<p>Let&#39;s point out one specific helper class that ASP.NET MVC gives us for
model-bound forms.</p>
</div></div><div data-title="Interacting with Appointments" class="chapter"><div data-title="Interacting with Appointments" data-file="AppointmentReminders.Web/Views/Appointments/Index.cshtml" data-mode="html" class="step"><h2>Interacting with Appointments</h2><blockquote> 
As a user, I want to view a list of all future appointments, and be able to delete those appointments.</blockquote><p>If you&#39;re an organization that handles a lot of appointments, you probably want to be able to view and manage them in a single interface. That&#39;s what we&#39;ll tackle in this user story. We&#39;ll create a UI to:</p>
<ul>
<li>Show all appointments</li>
<li>Delete individual appoinments</li>
</ul>
<p>Let&#39;s start by looking at the controller.</p>
</div><div data-title="The controller" data-file="AppointmentReminders.Web/Controllers/AppointmentsController.cs" data-highlight="34-40" class="step"><h2 id="showing-a-list-of-appointments">Showing a List of Appointments</h2>
<p>At the controller level, all we&#39;ll do is get a list of all the appointments in the database and rendering them with a view. We should also add a prompt if there aren&#39;t any appointments, since this demo relies on there being at least one appointment in the future.</p>
<p>Let&#39;s go back to the template to see our list of appointments.</p>
</div><div data-title="View all Appointments" data-file="AppointmentReminders.Web/Views/Appointments/Index.cshtml" data-mode="html" data-highlight="48-52" class="step"><h2 id="view-all-appointments">View All Appointments</h2>
<p>The index view lists all of the appointments which are automatically ordered by <code>Id</code>. The only thing we need to add to fulfill our user story is a delete button. We&#39;ll add the edit button just for kicks.</p>
<p><em>HTML Helpers</em></p>
<p>You may notice that instead of hard-coding the urls for Edit and Delete we are using a ASP.NET MVC <a href="https://msdn.microsoft.com/en-us/library/system.web.mvc.htmlhelper.aspx">HTML Helpers</a>. If you view the rendered markup you will see these paths:</p>
<ul>
<li><code>/Appointments/Edit/(some ID)</code> for edit</li>
<li><code>/appointments/Delete/(some ID)</code> for delete</li>
</ul>
<p>For delete action we use a confirm message by adding an <em>onlick</em> statement, explicitly this <code>onclick = &quot;return confirm(&#39;Are you sure?&#39;);&quot;</code> so that when the user attempts to delete an appointment a javascript confirm will be shown, if the user confirms the action then the appointment is deleted, otherwise no action will be taken.</p>
<p>Now let&#39;s take a look at what happens when an appointment is actually deleted.</p>
</div><div data-title="Looking up an Appointment" data-file="AppointmentReminders.Web/Controllers/AppointmentsController.cs" data-highlight="41-56" class="step"><h2 id="looking-up-the-appointment">Looking up the Appointment</h2>
<p>In this controller we need to pull up an appointment record and then delete it. Let&#39;s take a look at how we&#39;re grabbing the appointment first.</p>
<p>There is some standard check going over here, if there is not an ID to look for, then the controller responds <code>Bad Request</code>, in the other hand if an ID is passed but it doesn&#39;t match with any of the appointments in the database then the controller responds <code>Not Found</code>.</p>
</div><div data-title="Deleting an Appointment" data-file="AppointmentReminders.Web/Controllers/AppointmentsController.cs" data-highlight="121-125" class="step"><h2 id="deleting-an-appointment">Deleting an Appointment</h2>
<p>Now that we have the appointment, we simply need to call <code>Delete</code> on it.</p>
<p>Now that we can interact with our appointments, let&#39;s dive into sending out reminders when one of these appointments is coming up.</p>
</div></div><div data-title="Send a Reminder" class="chapter"><div data-title="Setting the Reminder" class="step"><blockquote>As an appointment system, I want to notify a user via SMS an arbitrary<interval>before a future appointment.</interval></blockquote><p>There are a lot of ways to build this part of our application, but no
matter how you implement it there should be two moving parts:</p>
<ul>
<li>A script that checks the database for any appointment that is upcoming,
then sends an sms.</li>
<li>A worker that runs that script continuously.</li>
</ul>
<p>Let&#39;s take a look at how we decided to implement the latter
with<a href="http://hangfire.io/">Hangfire</a>.</p>
</div><div data-title="Working with Hangfire" data-file="AppointmentReminders.Web/packages.config" data-language="xml" data-highlight="7-9" class="step"><h2 id="working-with-hangfire">Working with Hangfire</h2>
<p>There are a lot of ways to implement a scheduler/worker, there is a nice
<a href="http://www.hanselman.com/blog/HowToRunBackgroundTasksInASPNET.aspx">post</a>
by Scott Hanselman that shows a few ways to run background tasks in ASP.NET
MVC. We decided to use Hanfire because of its simplicity. If you have a
better way to schedule jobs in ASP.NET MVC please let <a href="mailto:
help@twilio.com">us know</a>.</p>
<p>Hangfire needs a backend of some kind to queue the upcoming jobs. In this
implmentation we&#39;re using <a href="http://docs.hangfire.io/en/latest/configuration/using-sql-server.html">SQL Server
Database</a>,
but it&#39;s possible to use a different approach. You can check their
<a href="http://docs.hangfire.io/en/latest/configuration/index.html">documentation</a>
for further details.</p>
<p>To install Hanfire you can either use:</p>
<p><strong>Package Manager Console</strong></p>
<p><code>PM&gt; Install-Package Hangfire</code></p>
<p>or <strong>Nuget Package Manager</strong></p>
<p>More information about Hanfire installation can be found
<a href="http://docs.hangfire.io/en/latest/installation.html">here</a>.</p>
<p>Let&#39;s take a look on how to <strong>configure Hangfire</strong> to use it in our appointment
reminders application.</p>
</div><div data-title="Hangfire, The Configuration Class" data-file="AppointmentReminders.Web/App_Start/Hangfire.cs" data-language="c#" data-highlight="6-21" class="step"><h2 id="configuring-hangfire">Configuring Hangfire</h2>
<h3 id="hangfire-the-configuration-class">Hangfire, The Configuration Class</h3>
<p>To keep it simple we extracted a class named <code>Hangfire</code> to encapsulate the
setup of Hangfire, we defined 2 static methods.</p>
<ol>
<li><strong>ConfigureHangfire</strong>. To manage the nitty-gritty details of the
configuration.</li>
<li><strong>InitialzeJobs</strong>. To be responsible for initialize the recurring jobs.</li>
</ol>
<p>Let&#39;s see what does <code>ConfigureHangfire</code> do in detail.</p>
</div><div data-title="The Setup Method" data-file="AppointmentReminders.Web/App_Start/Hangfire.cs" data-language="c#" data-highlight="8-15" class="step"><h2 id="configuring-hangfire">Configuring Hangfire</h2>
<h3 id="the-setup-method">The Setup Method</h3>
<p>Our setup method is <code>ConfigureHangfire</code>, this guy is doing the following:</p>
<ol>
<li>Let Hangfire know which <strong>connection string</strong> to use to handle
persistence, in our example we&#39;re using the beloved <code>DefaultConnection</code>.</li>
<li>Configuring the endpoint for Hangfire Dashboard. So, if you&#39;re running
our application locally we can see the dashboard by typing
<strong>localhost:1474/jobs</strong> in your browser.</li>
<li>Starting Hangfire Server.</li>
</ol>
<p>Now, let&#39;s have a look on <code>InitializeJobs</code>.</p>
</div><div data-title="Initializing the Jobs" data-file="AppointmentReminders.Web/App_Start/Hangfire.cs" data-language="c#" data-highlight="17-20" class="step"><h2 id="configuring-hangfire">Configuring Hangfire</h2>
<h3 id="initializing-the-jobs">Initializing the Jobs</h3>
<p><code>InitializeJobs</code> is responsible for handling the recurring
jobs by adding or updating a new job, more explicitly
<code>Workers.SendNotificationsJob</code>. Hold your horses!, we&#39;ll discuss about
the implementation of this <strong>job</strong> in a few moments.</p>
<p>In this method we&#39;re telling to Hangfire which method should be executed, in our
example the method is <code>Execute</code>, quite obvious right?. Also we&#39;re specifying
the job&#39;s frecuency of execution. If you want to dive into more details you
can check out <a href="http://docs.hangfire.io/en/latest/background-methods/performing-recurrent-tasks.html">how to perform recurring
tasks</a>.</p>
<p>I think this configuration is quite simple, but this configuration is
incomplete. Let&#39;s find out what we need to finish with this configuration.</p>
</div><div data-title="Putting the Pieces Together" data-file="AppointmentReminders.Web/Startup.cs" data-language="c#" data-highlight="4-15" class="step"><h2 id="configuring-hangfire">Configuring Hangfire</h2>
<h3 id="putting-the-pieces-together">Putting the Pieces Together</h3>
<p>All the work we made on our precious <code>Hangfire</code> class is useless we have a
place where we can use the methods <code>ConfigureHangfire</code> and <code>InitializeJobs</code>,
for that reason we have the <code>Startup</code> class.</p>
<p>ASP.NET is an OWIN-based application, for that reason we&#39;re using the
following line <code>[assembly:
OwinStartup(typeof(AppointmentReminders.Web.Startup))]</code> in our OWIN Startup
class.</p>
<p>For further references you can take a look at <a href="http://docs.hangfire.io/en/latest/configuration/">Hangfire
  Configuration</a>.</p>
</div></div>
<div class="saurus-files" style="display:none;"><textarea class="saurus-file" data-file="AppointmentReminders.Web/Models/Appointment.cs" data-mode="csharp">77u/dXNpbmcgU3lzdGVtOwp1c2luZyBTeXN0ZW0uQ29tcG9uZW50TW9kZWwuRGF0YUFubm90YXRpb25zOwp1c2luZyBNaWNyb3NvZnQuQWpheC5VdGlsaXRpZXM7CgpuYW1lc3BhY2UgQXBwb2ludG1lbnRSZW1pbmRlcnMuV2ViLk1vZGVscwp7CiAgICBwdWJsaWMgY2xhc3MgQXBwb2ludG1lbnQKICAgIHsKICAgICAgICBwdWJsaWMgc3RhdGljIGludCBSZW1pbmRlclRpbWUgPSAzMDsKICAgICAgICBwdWJsaWMgaW50IElkIHsgZ2V0OyBzZXQ7IH0KCiAgICAgICAgW1JlcXVpcmVkXQogICAgICAgIHB1YmxpYyBzdHJpbmcgTmFtZSB7IGdldDsgc2V0OyB9CgogICAgICAgIFtSZXF1aXJlZCwgUGhvbmUsIERpc3BsYXkoTmFtZSA9ICJQaG9uZSBudW1iZXIiKV0KICAgICAgICBwdWJsaWMgc3RyaW5nIFBob25lTnVtYmVyIHsgZ2V0OyBzZXQ7IH0KCiAgICAgICAgW1JlcXVpcmVkXQogICAgICAgIHB1YmxpYyBEYXRlVGltZSBUaW1lIHsgZ2V0OyBzZXQ7IH0KCiAgICAgICAgW1JlcXVpcmVkXQogICAgICAgIHB1YmxpYyBzdHJpbmcgVGltZXpvbmUgeyBnZXQ7IHNldDsgfQoKICAgICAgICBbRGlzcGxheShOYW1lID0gIkNyZWF0ZWQgYXQiKV0KICAgICAgICBwdWJsaWMgRGF0ZVRpbWUgQ3JlYXRlZEF0IHsgZ2V0OyBzZXQ7IH0KICAgIH0KfQ==</textarea>
<textarea class="saurus-file" data-file="AppointmentReminders.Web/Views/Appointments/_Form.cshtml" data-mode="html">77u/QHVzaW5nIEFwcG9pbnRtZW50UmVtaW5kZXJzLldlYi5FeHRlbnNpb25zCkBtb2RlbCBBcHBvaW50bWVudFJlbWluZGVycy5XZWIuTW9kZWxzLkFwcG9pbnRtZW50Cgo8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgIEBIdG1sLkxhYmVsRm9yKHggPT4geC5OYW1lLCBuZXcgeyBAY2xhc3MgPSAiY29udHJvbC1sYWJlbCBjb2wtbGctMiIgfSkKICAgIDxkaXYgY2xhc3M9ImNvbC1sZy0xMCI+CiAgICAgICAgQEh0bWwuVGV4dEJveEZvcih4ID0+IHguTmFtZSwgbmV3IHsgQGNsYXNzID0gImZvcm0tY29udHJvbCIgfSkKICAgICAgICBASHRtbC5WYWxpZGF0aW9uTWVzc2FnZUZvcih4ID0+IHguTmFtZSkKICAgIDwvZGl2Pgo8L2Rpdj4KPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICBASHRtbC5MYWJlbEZvcih4ID0+IHguUGhvbmVOdW1iZXIsIG5ldyB7IEBjbGFzcyA9ICJjb250cm9sLWxhYmVsIGNvbC1sZy0yIiB9KQogICAgPGRpdiBjbGFzcz0iY29sLWxnLTEwIj4KICAgICAgICBASHRtbC5UZXh0Qm94Rm9yKHggPT4geC5QaG9uZU51bWJlciwgbmV3IHsgQGNsYXNzID0gImZvcm0tY29udHJvbCIgfSkKICAgICAgICBASHRtbC5WYWxpZGF0aW9uTWVzc2FnZUZvcih4ID0+IHguUGhvbmVOdW1iZXIpCiAgICA8L2Rpdj4KPC9kaXY+CjxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgPGxhYmVsIGNsYXNzPSJjb250cm9sLWxhYmVsIGNvbC1sZy0yIj5UaW1lIGFuZCBEYXRlPC9sYWJlbD4KICAgIDxkaXYgY2xhc3M9ImNvbC1sZy0xMCI+CiAgICAgICAgPGRpdiBjbGFzcz0icm93Ij4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29sLWxnLTYiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0naW5wdXQtZ3JvdXAgZGF0ZScgaWQ9ImRhdGV0aW1lcGlja2VyIj4KICAgICAgICAgICAgICAgICAgICBASHRtbC5UZXh0Qm94KCJUaW1lIiwgTW9kZWwuVGltZS5Ub0N1c3RvbURhdGVTdHJpbmcoKSwgbmV3IHsgQGNsYXNzID0gImZvcm0tY29udHJvbCJ9KQogICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJpbnB1dC1ncm91cC1hZGRvbiI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJnbHlwaGljb24gZ2x5cGhpY29uLWNhbGVuZGFyIj48L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb2wtbGctNiBwdWxsLXJpZ2h0Ij4KICAgICAgICAgICAgICAgIEBIdG1sLkRyb3BEb3duTGlzdEZvcih4ID0+IHguVGltZXpvbmUsIChJRW51bWVyYWJsZTxTZWxlY3RMaXN0SXRlbT4pVmlld0JhZy5UaW1lem9uZXMsIG5ldyB7IEBjbGFzcyA9ICJmb3JtLWNvbnRyb2wiIH0pCiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CjwvZGl2Pgo=</textarea>
<textarea class="saurus-file" data-file="AppointmentReminders.Web/Views/Appointments/Index.cshtml" data-mode="html">77u/QG1vZGVsIElFbnVtZXJhYmxlPEFwcG9pbnRtZW50UmVtaW5kZXJzLldlYi5Nb2RlbHMuQXBwb2ludG1lbnQ+Cgo8ZGl2IGNsYXNzPSJwYWdlLWhlYWRlciI+CiAgICA8aDE+QXBwb2ludG1lbnRzPC9oMT4KPC9kaXY+Cgo8dGFibGUgY2xhc3M9InRhYmxlIHRhYmxlLXN0cmlwZWQiPgogICAgPHRyPgogICAgICAgIDx0aD4KICAgICAgICAgICAgQEh0bWwuRGlzcGxheU5hbWVGb3IobW9kZWwgPT4gbW9kZWwuSWQpCiAgICAgICAgPC90aD4KICAgICAgICA8dGg+CiAgICAgICAgICAgIEBIdG1sLkRpc3BsYXlOYW1lRm9yKG1vZGVsID0+IG1vZGVsLk5hbWUpCiAgICAgICAgPC90aD4KICAgICAgICA8dGg+CiAgICAgICAgICAgIEBIdG1sLkRpc3BsYXlOYW1lRm9yKG1vZGVsID0+IG1vZGVsLlBob25lTnVtYmVyKQogICAgICAgIDwvdGg+CiAgICAgICAgPHRoPgogICAgICAgICAgICBASHRtbC5EaXNwbGF5TmFtZUZvcihtb2RlbCA9PiBtb2RlbC5UaW1lKQogICAgICAgIDwvdGg+CiAgICAgICAgPHRoPgogICAgICAgICAgICBASHRtbC5EaXNwbGF5TmFtZUZvcihtb2RlbCA9PiBtb2RlbC5DcmVhdGVkQXQpCiAgICAgICAgPC90aD4KICAgICAgICA8dGg+CiAgICAgICAgICAgIEFjdGlvbnMKICAgICAgICA8L3RoPgogICAgPC90cj4KCkBmb3JlYWNoICh2YXIgaXRlbSBpbiBNb2RlbCkgewogICAgPHRyPgogICAgICAgIDx0ZD4KICAgICAgICAgICAgQEh0bWwuQWN0aW9uTGluayhpdGVtLklkLlRvU3RyaW5nKCksICJEZXRhaWxzIiwgbmV3IHtDb250cm9sbGVyID0gIkFwcG9pbnRtZW50cyIsIGlkID0gaXRlbS5JZH0pCiAgICAgICAgPC90ZD4KICAgICAgICA8dGQ+CiAgICAgICAgICAgIEBIdG1sLkRpc3BsYXlGb3IobW9kZWxJdGVtID0+IGl0ZW0uTmFtZSkKICAgICAgICA8L3RkPgogICAgICAgIDx0ZD4KICAgICAgICAgICAgQEh0bWwuRGlzcGxheUZvcihtb2RlbEl0ZW0gPT4gaXRlbS5QaG9uZU51bWJlcikKICAgICAgICA8L3RkPgogICAgICAgIDx0ZD4KICAgICAgICAgICAgQEh0bWwuRGlzcGxheUZvcihtb2RlbEl0ZW0gPT4gaXRlbS5UaW1lKQogICAgICAgIDwvdGQ+CiAgICAgICAgPHRkPgogICAgICAgICAgICBASHRtbC5EaXNwbGF5Rm9yKG1vZGVsSXRlbSA9PiBpdGVtLkNyZWF0ZWRBdCkKICAgICAgICA8L3RkPgogICAgICAgIDx0ZD4KICAgICAgICAgICAgQEh0bWwuQWN0aW9uTGluaygiRWRpdCIsICJFZGl0IiwgbmV3IHsgQ29udHJvbGxlciA9ICJBcHBvaW50bWVudHMiLCBpZCA9IGl0ZW0uSWQgfSwgbmV3IHsgQGNsYXNzID0gImJ0biBidG4tZGVmYXVsdCBidG4teHMiIH0pCiAgICAgICAgICAgIEBIdG1sLkFjdGlvbkxpbmsoCiAgICAgICAgICAgICJEZWxldGUiLAogICAgICAgICAgICAiRGVsZXRlIiwKICAgICAgICAgICAgbmV3IHsgQ29udHJvbGxlciA9ICJBcHBvaW50bWVudHMiLCBpZCA9IGl0ZW0uSWQgfSwKICAgICAgICAgICAgbmV3IHsgQGNsYXNzID0gImJ0biBidG4tZGFuZ2VyIGJ0bi14cyIsIG9uY2xpY2sgPSAicmV0dXJuIGNvbmZpcm0oJ0FyZSB5b3Ugc3VyZT8nKTsiIH0pCiAgICAgICAgPC90ZD4KICAgIDwvdHI+Cn0KCjwvdGFibGU+CgpASHRtbC5BY3Rpb25MaW5rKCJOZXciLCAiQ3JlYXRlIiwgbmV3IHsgQ29udHJvbGxlciA9ICJBcHBvaW50bWVudHMiIH0sIG5ldyB7IEBjbGFzcyA9ICJidG4gYnRuLXByaW1hcnkiIH0p</textarea>
<textarea class="saurus-file" data-file="AppointmentReminders.Web/Controllers/AppointmentsController.cs" data-mode="csharp">77u/dXNpbmcgU3lzdGVtOwp1c2luZyBTeXN0ZW0uTGlucTsKdXNpbmcgU3lzdGVtLk5ldDsKdXNpbmcgU3lzdGVtLldlYi5NdmM7CnVzaW5nIEFwcG9pbnRtZW50UmVtaW5kZXJzLldlYi5Nb2RlbHM7CnVzaW5nIEFwcG9pbnRtZW50UmVtaW5kZXJzLldlYi5Nb2RlbHMuUmVwb3NpdG9yeTsKCm5hbWVzcGFjZSBBcHBvaW50bWVudFJlbWluZGVycy5XZWIuQ29udHJvbGxlcnMKewogICAgcHVibGljIGNsYXNzIEFwcG9pbnRtZW50c0NvbnRyb2xsZXIgOiBDb250cm9sbGVyCiAgICB7CiAgICAgICAgcHJpdmF0ZSByZWFkb25seSBJQXBwb2ludG1lbnRSZXBvc2l0b3J5IF9yZXBvc2l0b3J5OwoKICAgICAgICBwdWJsaWMgQXBwb2ludG1lbnRzQ29udHJvbGxlcigpIDogdGhpcyhuZXcgQXBwb2ludG1lbnRSZXBvc2l0b3J5KCkpIHsgfQoKICAgICAgICBwdWJsaWMgQXBwb2ludG1lbnRzQ29udHJvbGxlcihJQXBwb2ludG1lbnRSZXBvc2l0b3J5IHJlcG9zaXRvcnkpCiAgICAgICAgewogICAgICAgICAgICBfcmVwb3NpdG9yeSA9IHJlcG9zaXRvcnk7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgU2VsZWN0TGlzdEl0ZW1bXSBUaW1lem9uZXMKICAgICAgICB7CiAgICAgICAgICAgIGdldAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB2YXIgc3lzdGVtVGltZVpvbmVzID0gVGltZVpvbmVJbmZvLkdldFN5c3RlbVRpbWVab25lcygpOwogICAgICAgICAgICAgICAgcmV0dXJuIHN5c3RlbVRpbWVab25lcy5TZWxlY3Qoc3lzdGVtVGltZVpvbmUgPT4gbmV3IFNlbGVjdExpc3RJdGVtCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgVGV4dCA9IHN5c3RlbVRpbWVab25lLkRpc3BsYXlOYW1lLAogICAgICAgICAgICAgICAgICAgIFZhbHVlID0gc3lzdGVtVGltZVpvbmUuSWQKICAgICAgICAgICAgICAgIH0pLlRvQXJyYXkoKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gR0VUOiBBcHBvaW50bWVudHMKICAgICAgICBwdWJsaWMgQWN0aW9uUmVzdWx0IEluZGV4KCkKICAgICAgICB7CiAgICAgICAgICAgIHZhciBhcHBvaW50bWVudHMgPSBfcmVwb3NpdG9yeS5GaW5kQWxsKCk7CiAgICAgICAgICAgIHJldHVybiBWaWV3KGFwcG9pbnRtZW50cyk7CiAgICAgICAgfQoKICAgICAgICAvLyBHRVQ6IEFwcG9pbnRtZW50cy9EZXRhaWxzLzUKICAgICAgICBwdWJsaWMgQWN0aW9uUmVzdWx0IERldGFpbHMoaW50PyBpZCkKICAgICAgICB7CiAgICAgICAgICAgIGlmIChpZCA9PSBudWxsKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEh0dHBTdGF0dXNDb2RlUmVzdWx0KEh0dHBTdGF0dXNDb2RlLkJhZFJlcXVlc3QpOwogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgYXBwb2ludG1lbnQgPSBfcmVwb3NpdG9yeS5GaW5kQnlJZChpZC5WYWx1ZSk7CiAgICAgICAgICAgIGlmIChhcHBvaW50bWVudCA9PSBudWxsKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICByZXR1cm4gSHR0cE5vdEZvdW5kKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBWaWV3KGFwcG9pbnRtZW50KTsKICAgICAgICB9CgogICAgICAgIC8vIEdFVDogQXBwb2ludG1lbnRzL0NyZWF0ZQogICAgICAgIHB1YmxpYyBBY3Rpb25SZXN1bHQgQ3JlYXRlKCkKICAgICAgICB7CiAgICAgICAgICAgIFZpZXdCYWcuVGltZXpvbmVzID0gVGltZXpvbmVzOwogICAgICAgICAgICAvLyBVc2UgYW4gZW1wdHkgYXBwb2ludG1lbnQgdG8gc2V0dXAgdGhlIGRlZmF1bHQKICAgICAgICAgICAgLy8gdmFsdWVzLgogICAgICAgICAgICB2YXIgYXBwb2ludG1lbnQgPSBuZXcgQXBwb2ludG1lbnQKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgVGltZXpvbmUgPSAiUGFjaWZpYyBTdGFuZGFyZCBUaW1lIiwKICAgICAgICAgICAgICAgIFRpbWUgPSBEYXRlVGltZS5Ob3cKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIHJldHVybiBWaWV3KGFwcG9pbnRtZW50KTsKICAgICAgICB9CgogICAgICAgIFtIdHRwUG9zdF0KICAgICAgICBwdWJsaWMgQWN0aW9uUmVzdWx0IENyZWF0ZShbQmluZChJbmNsdWRlPSJJRCxOYW1lLFBob25lTnVtYmVyLFRpbWUsVGltZXpvbmUiKV1BcHBvaW50bWVudCBhcHBvaW50bWVudCkKICAgICAgICB7CiAgICAgICAgICAgIGFwcG9pbnRtZW50LkNyZWF0ZWRBdCA9IERhdGVUaW1lLk5vdzsKCiAgICAgICAgICAgIGlmIChNb2RlbFN0YXRlLklzVmFsaWQpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIF9yZXBvc2l0b3J5LkNyZWF0ZShhcHBvaW50bWVudCk7CgogICAgICAgICAgICAgICAgcmV0dXJuIFJlZGlyZWN0VG9BY3Rpb24oIkRldGFpbHMiLCBuZXcge2lkID0gYXBwb2ludG1lbnQuSWR9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIFZpZXcoIkNyZWF0ZSIsIGFwcG9pbnRtZW50KTsKICAgICAgICB9CgogICAgICAgIC8vIEdFVDogQXBwb2ludG1lbnRzL0VkaXQvNQogICAgICAgIFtIdHRwR2V0XQogICAgICAgIHB1YmxpYyBBY3Rpb25SZXN1bHQgRWRpdChpbnQ/IGlkKQogICAgICAgIHsKICAgICAgICAgICAgaWYgKGlkID09IG51bGwpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgSHR0cFN0YXR1c0NvZGVSZXN1bHQoSHR0cFN0YXR1c0NvZGUuQmFkUmVxdWVzdCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHZhciBhcHBvaW50bWVudCA9IF9yZXBvc2l0b3J5LkZpbmRCeUlkKGlkLlZhbHVlKTsKICAgICAgICAgICAgaWYgKGFwcG9pbnRtZW50ID09IG51bGwpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJldHVybiBIdHRwTm90Rm91bmQoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgVmlld0JhZy5UaW1lem9uZXMgPSBUaW1lem9uZXM7CiAgICAgICAgICAgIHJldHVybiBWaWV3KGFwcG9pbnRtZW50KTsKICAgICAgICB9CgogICAgICAgIC8vIFBPU1Q6IC9BcHBvaW50bWVudHMvRWRpdC81CiAgICAgICAgW0h0dHBQb3N0XQogICAgICAgIHB1YmxpYyBBY3Rpb25SZXN1bHQgRWRpdChbQmluZChJbmNsdWRlID0gIklELE5hbWUsUGhvbmVOdW1iZXIsVGltZSxUaW1lem9uZSIpXSBBcHBvaW50bWVudCBhcHBvaW50bWVudCkKICAgICAgICB7CiAgICAgICAgICAgIGlmIChNb2RlbFN0YXRlLklzVmFsaWQpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIF9yZXBvc2l0b3J5LlVwZGF0ZShhcHBvaW50bWVudCk7CiAgICAgICAgICAgICAgICByZXR1cm4gUmVkaXJlY3RUb0FjdGlvbigiRGV0YWlscyIsIG5ldyB7IGlkID0gYXBwb2ludG1lbnQuSWQgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIFZpZXcoYXBwb2ludG1lbnQpOwogICAgICAgIH0KCiAgICAgICAgLy8gR0VUOiBBcHBvaW50bWVudHMvRGVsZXRlLzUKICAgICAgICBbSHR0cEdldF0KICAgICAgICBwdWJsaWMgQWN0aW9uUmVzdWx0IERlbGV0ZShpbnQgaWQpCiAgICAgICAgewogICAgICAgICAgICBfcmVwb3NpdG9yeS5EZWxldGUoaWQpOwogICAgICAgICAgICByZXR1cm4gUmVkaXJlY3RUb0FjdGlvbigiSW5kZXgiKTsKICAgICAgICB9CiAgICB9Cn0=</textarea>
<textarea class="saurus-file" data-file="AppointmentReminders.Web/packages.config" data-mode="text">77u/PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHBhY2thZ2VzPgogIDxwYWNrYWdlIGlkPSJBbnRsciIgdmVyc2lvbj0iMy40LjEuOTAwNCIgdGFyZ2V0RnJhbWV3b3JrPSJuZXQ0NSIgLz4KICA8cGFja2FnZSBpZD0iYm9vdHN0cmFwIiB2ZXJzaW9uPSIzLjAuMCIgdGFyZ2V0RnJhbWV3b3JrPSJuZXQ0NSIgLz4KICA8cGFja2FnZSBpZD0iQm9vdHN0cmFwLnYzLkRhdGV0aW1lcGlja2VyIiB2ZXJzaW9uPSI0LjE0LjMwIiB0YXJnZXRGcmFtZXdvcms9Im5ldDQ1IiAvPgogIDxwYWNrYWdlIGlkPSJFbnRpdHlGcmFtZXdvcmsiIHZlcnNpb249IjYuMS4zIiB0YXJnZXRGcmFtZXdvcms9Im5ldDQ1IiAvPgogIDxwYWNrYWdlIGlkPSJIYW5nRmlyZSIgdmVyc2lvbj0iMS40LjMiIHRhcmdldEZyYW1ld29yaz0ibmV0NDUiIC8+CiAgPHBhY2thZ2UgaWQ9IkhhbmdmaXJlLkNvcmUiIHZlcnNpb249IjEuNC4zIiB0YXJnZXRGcmFtZXdvcms9Im5ldDQ1IiAvPgogIDxwYWNrYWdlIGlkPSJIYW5nZmlyZS5TcWxTZXJ2ZXIiIHZlcnNpb249IjEuNC4zIiB0YXJnZXRGcmFtZXdvcms9Im5ldDQ1IiAvPgogIDxwYWNrYWdlIGlkPSJqUXVlcnkiIHZlcnNpb249IjEuMTAuMiIgdGFyZ2V0RnJhbWV3b3JrPSJuZXQ0NSIgLz4KICA8cGFja2FnZSBpZD0ialF1ZXJ5LlZhbGlkYXRpb24iIHZlcnNpb249IjEuMTEuMSIgdGFyZ2V0RnJhbWV3b3JrPSJuZXQ0NSIgLz4KICA8cGFja2FnZSBpZD0iTWljcm9zb2Z0LkFzcE5ldC5NdmMiIHZlcnNpb249IjUuMi4yIiB0YXJnZXRGcmFtZXdvcms9Im5ldDQ1IiAvPgogIDxwYWNrYWdlIGlkPSJNaWNyb3NvZnQuQXNwTmV0LlJhem9yIiB2ZXJzaW9uPSIzLjIuMiIgdGFyZ2V0RnJhbWV3b3JrPSJuZXQ0NSIgLz4KICA8cGFja2FnZSBpZD0iTWljcm9zb2Z0LkFzcE5ldC5XZWIuT3B0aW1pemF0aW9uIiB2ZXJzaW9uPSIxLjEuMyIgdGFyZ2V0RnJhbWV3b3JrPSJuZXQ0NSIgLz4KICA8cGFja2FnZSBpZD0iTWljcm9zb2Z0LkFzcE5ldC5XZWJQYWdlcyIgdmVyc2lvbj0iMy4yLjIiIHRhcmdldEZyYW1ld29yaz0ibmV0NDUiIC8+CiAgPHBhY2thZ2UgaWQ9Ik1pY3Jvc29mdC5qUXVlcnkuVW5vYnRydXNpdmUuVmFsaWRhdGlvbiIgdmVyc2lvbj0iMy4yLjIiIHRhcmdldEZyYW1ld29yaz0ibmV0NDUiIC8+CiAgPHBhY2thZ2UgaWQ9Ik1pY3Jvc29mdC5Pd2luIiB2ZXJzaW9uPSIzLjAuMCIgdGFyZ2V0RnJhbWV3b3JrPSJuZXQ0NSIgLz4KICA8cGFja2FnZSBpZD0iTWljcm9zb2Z0Lk93aW4uSG9zdC5TeXN0ZW1XZWIiIHZlcnNpb249IjMuMC4wIiB0YXJnZXRGcmFtZXdvcms9Im5ldDQ1IiAvPgogIDxwYWNrYWdlIGlkPSJNaWNyb3NvZnQuV2ViLkluZnJhc3RydWN0dXJlIiB2ZXJzaW9uPSIxLjAuMC4wIiB0YXJnZXRGcmFtZXdvcms9Im5ldDQ1IiAvPgogIDxwYWNrYWdlIGlkPSJNb2Rlcm5penIiIHZlcnNpb249IjIuNi4yIiB0YXJnZXRGcmFtZXdvcms9Im5ldDQ1IiAvPgogIDxwYWNrYWdlIGlkPSJNb21lbnQuanMiIHZlcnNpb249IjIuOS4wIiB0YXJnZXRGcmFtZXdvcms9Im5ldDQ1IiAvPgogIDxwYWNrYWdlIGlkPSJOZXd0b25zb2Z0Lkpzb24iIHZlcnNpb249IjYuMC40IiB0YXJnZXRGcmFtZXdvcms9Im5ldDQ1IiAvPgogIDxwYWNrYWdlIGlkPSJPd2luIiB2ZXJzaW9uPSIxLjAiIHRhcmdldEZyYW1ld29yaz0ibmV0NDUiIC8+CiAgPHBhY2thZ2UgaWQ9IlJlc3BvbmQiIHZlcnNpb249IjEuMi4wIiB0YXJnZXRGcmFtZXdvcms9Im5ldDQ1IiAvPgogIDxwYWNrYWdlIGlkPSJSZXN0U2hhcnAiIHZlcnNpb249IjEwNS4wLjEiIHRhcmdldEZyYW1ld29yaz0ibmV0NDUiIC8+CiAgPHBhY2thZ2UgaWQ9IlR3aWxpbyIgdmVyc2lvbj0iNC4wLjMiIHRhcmdldEZyYW1ld29yaz0ibmV0NDUiIC8+CiAgPHBhY2thZ2UgaWQ9IlR3aXR0ZXIuQm9vdHN0cmFwLkxlc3MiIHZlcnNpb249IjMuMy4wIiB0YXJnZXRGcmFtZXdvcms9Im5ldDQ1IiAvPgogIDxwYWNrYWdlIGlkPSJXZWJHcmVhc2UiIHZlcnNpb249IjEuNS4yIiB0YXJnZXRGcmFtZXdvcms9Im5ldDQ1IiAvPgo8L3BhY2thZ2VzPg==</textarea>
<textarea class="saurus-file" data-file="AppointmentReminders.Web/App_Start/Hangfire.cs" data-mode="csharp">77u/dXNpbmcgSGFuZ2ZpcmU7CnVzaW5nIE93aW47CgpuYW1lc3BhY2UgQXBwb2ludG1lbnRSZW1pbmRlcnMuV2ViCnsKICAgIHB1YmxpYyBjbGFzcyBIYW5nZmlyZQogICAgewogICAgICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBDb25maWd1cmVIYW5nZmlyZShJQXBwQnVpbGRlciBhcHApCiAgICAgICAgewogICAgICAgICAgICBHbG9iYWxDb25maWd1cmF0aW9uLkNvbmZpZ3VyYXRpb24KICAgICAgICAgICAgICAgIC5Vc2VTcWxTZXJ2ZXJTdG9yYWdlKCJEZWZhdWx0Q29ubmVjdGlvbiIpOwoKICAgICAgICAgICAgYXBwLlVzZUhhbmdmaXJlRGFzaGJvYXJkKCIvam9icyIpOwogICAgICAgICAgICBhcHAuVXNlSGFuZ2ZpcmVTZXJ2ZXIoKTsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBJbml0aWFsaXplSm9icygpCiAgICAgICAgewogICAgICAgICAgICBSZWN1cnJpbmdKb2IuQWRkT3JVcGRhdGU8V29ya2Vycy5TZW5kTm90aWZpY2F0aW9uc0pvYj4oam9iID0+IGpvYi5FeGVjdXRlKCksIENyb24uTWludXRlbHkpOwogICAgICAgIH0KICAgIH0KfQ==</textarea>
<textarea class="saurus-file" data-file="AppointmentReminders.Web/Startup.cs" data-mode="csharp">77u/dXNpbmcgTWljcm9zb2Z0Lk93aW47CnVzaW5nIE93aW47CgpbYXNzZW1ibHk6IE93aW5TdGFydHVwKHR5cGVvZihBcHBvaW50bWVudFJlbWluZGVycy5XZWIuU3RhcnR1cCkpXQpuYW1lc3BhY2UgQXBwb2ludG1lbnRSZW1pbmRlcnMuV2ViCnsKICAgIHB1YmxpYyBjbGFzcyBTdGFydHVwCiAgICB7CiAgICAgICAgcHVibGljIHZvaWQgQ29uZmlndXJhdGlvbihJQXBwQnVpbGRlciBhcHApCiAgICAgICAgewogICAgICAgICAgICBIYW5nZmlyZS5Db25maWd1cmVIYW5nZmlyZShhcHApOwogICAgICAgICAgICBIYW5nZmlyZS5Jbml0aWFsaXplSm9icygpOwogICAgICAgIH0KICAgIH0KfQ==</textarea>
</div>
</div><div class="saurus-overview"><ul></ul></div></div><div class="saurus-code"><div class="file-path"><span class="crumb-container"></span><i class="fa fa-fw fa-folder"></i></div><div class="saurus-editor"></div></div><div class="saurus-explorer"><div class="saurus-file-list"></div></div></div></div></div><script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/backbone.js/1.1.2/backbone-min.js"></script><script src="ace/ace.js"></script><script src="ace/theme-monokai.js"></script><script src="viewsaurus.js"></script></body></html>